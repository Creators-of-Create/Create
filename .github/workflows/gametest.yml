name: gametest
on: [ pull_request, push ]

jobs:
    build:
        strategy:
            matrix:
                java: [ 17 ]
        runs-on: ubuntu-latest
        steps:

            - name: checkout repository
              uses: actions/checkout@v2

            - name: setup jdk ${{ matrix.java }}
              uses: actions/setup-java@v1
              with:
                  java-version: ${{ matrix.java }}

            - name: make gradle wrapper executable
              run: chmod +x ./gradlew

            - name: run gametests
              run: ./gradlew gameTestServer
